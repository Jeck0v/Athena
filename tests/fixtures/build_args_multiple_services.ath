DEPLOYMENT-ID BUILD_ARGS_MULTI
VERSION-ID 1.0.0

SERVICES SECTION

SERVICE frontend
BUILD-ARGS NODE_VERSION="18" BUILD_ENV="production"
PORT-MAPPING 80 TO 3000
DEPENDS-ON api
END SERVICE

SERVICE api
BUILD-ARGS PYTHON_VERSION="3.11" DEBUG="false" API_PORT="8000"
PORT-MAPPING 8000 TO 8000
ENV-VARIABLE {{DATABASE_URL}}
DEPENDS-ON database
END SERVICE

SERVICE database
IMAGE-ID "postgres:15"
PORT-MAPPING 5432 TO 5432
END SERVICE